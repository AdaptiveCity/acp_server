<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>

<head>
    <meta http-equiv="Content-type" content="text/html;charset=UTF-8">
    <script src="//cdn.jsdelivr.net/sockjs/1.0.3/sockjs.min.js"></script>
    <script src='vertx-eventbus.js'></script>
	<title>TFC ZONE 0.1</title>
<!--
RELEASE INFO:
2016-04-24 0.1 initial draft based on rita.html

-->	
<style type="text/css">
   font-family: Tahoma, Verdana, Segoe, sans-serif;
   
</style>

<!-- RITA core -->
<script type="text/javascript">
//debug - should be provided by server
var CONSOLE_EVENTBUS_HTTP = 'http://carrier.csi.cam.ac.uk:8082/eb';

function rita_init()
{
    // initialize eventbus to connect to Rita.java on server
    eb = new EventBus(CONSOLE_EVENTBUS_HTTP);

    // script to run when Vertx EventBus is ready
    eb.onopen = function() {

        // set a handler to receive a "rita_out" message
        eb.registerHandler('rita_out', function(error, message) {
          write_console1('rita_out: ' + message.body + '<br/>');
        });

    }
}

</script>

<!-- Zone -->
<script type="text/javascript">

  var zone_id;
  
function init()
{
    
    zone_id = "cam_test";
  
    alert("init");
  
    rita_init();
  
}
  
function write_console1(msg)
{
    var c = document.getElementById('console1');
    c.innerHTML += msg;
}

</script>

</head>

<body onload='init()'>
  
  <h1><img src="images/smart_cambridge_logo.jpg">RITA Zone <span id='heading'></span></h1>
<div id="status">Initializing...</div>
  
<button onclick="debug()">DEBUG</button>
<div id="console1">
		<h4>Messages</h4>
</div>
</body>
</html>
